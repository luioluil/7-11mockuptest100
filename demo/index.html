<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>7-Eleven • Food Filter Demo (Phase 3)</title>
  <link rel="stylesheet" href="styles/main.css" />
</head>
<body>
  <!-- Landing -->
  <section id="landing" class="landing">
    <div class="landing-inner">
      <div class="badge">DEMO</div>
      <h1>7-Eleven<br><span>Filter Test</span></h1>
      <p>สาธิต Search + Filter + PDP + Cart</p>
      <a id="startBtn" class="cta" href="#app" role="button" aria-controls="app">Start</a>
      <div class="tip">* ข้อมูลเพื่อการสาธิต</div>
    </div>
  </section>

  <!-- APP -->
  <section id="app" class="app hidden" tabindex="-1">
    <header class="topbar">
      <div class="brand">7-Delivery</div>
      <button id="cartBtn" class="icon-btn cart" title="ตะกร้า">
        <img src="assets/basket.png" class="icon-img" alt="cart" />
        <span id="cartBadge" class="badge count hide">0</span>
      </button>
    </header>

    <main class="container">
      <section class="searchbar">
        <input id="searchInput" type="text" placeholder="ค้นหาอาหาร… เช่น ข้าวไก่, เส้นหมู, นม" />
        <button id="filterBtn" class="icon-btn" title="ฟิลเตอร์">
          <img src="assets/filter.png" class="icon-img" alt="filter" />
        </button>
      </section>

      <section class="chips">
        <button class="chip" data-chip="promo">มีโปร</button>
      </section>

      <section id="activeSummary" class="summary hide"></section>

      <section class="tabs">
        <button class="tab active">อาหาร</button>
        <button class="tab disabled">ขนม (Coming soon)</button>
        <button class="tab disabled">ของใช้ (Coming soon)</button>
      </section>

      <div class="toolbar">
        <label>จัดเรียง
          <select id="sortSelect">
            <option value="recommended">แนะนำ</option>
            <option value="price_asc">ราคาต่ำ→สูง</option>
            <option value="price_desc">ราคาสูง→ต่ำ</option>
            <option value="promo_first">โปรมาก่อน</option>
          </select>
        </label>
      </div>

      <section id="results" class="grid"></section>

      <template id="cardTpl">
        <article class="card clickable">
          <div class="thumb"><div class="ph">IMG</div></div>
          <h4 class="title"></h4>
          <div class="meta">
            <span class="price"></span>
            <span class="badge promo hide">โปร</span>
          </div>
        </article>
      </template>
    </main>

    <!-- Filter Panel -->
    <aside id="panel" class="panel">
      <div class="panel-header">
        <strong>ฟิลเตอร์</strong>
        <button id="closePanel" class="icon-btn">✖</button>
      </div>
      <div class="panel-content">
        <div class="group">
          <div class="group-title">หมวดหลัก</div>
          <label><input type="checkbox" name="category" value="พร้อมทาน" /> พร้อมทาน</label>
          <label><input type="checkbox" name="category" value="ทานเล่น" /> ทานเล่น</label>
          <label><input type="checkbox" name="category" value="สำเร็จรูป" /> สำเร็จรูป</label>
        </div>
        <div class="group">
          <div class="group-title">โปรตีน</div>
          <label><input type="checkbox" name="protein" value="ไก่" /> ไก่</label>
          <label><input type="checkbox" name="protein" value="หมู" /> หมู</label>
          <label><input type="checkbox" name="protein" value="ปลา" /> ปลา</label>
          <label><input type="checkbox" name="protein" value="วัว" /> วัว</label>
          <label><input type="checkbox" name="protein" value="ไม่มีเนื้อสัตว์" /> ไม่มีเนื้อสัตว์</label>
        </div>
        <div class="group">
          <div class="group-title">ฐานอาหาร</div>
          <label><input type="checkbox" name="base" value="ข้าว" /> ข้าว</label>
          <label><input type="checkbox" name="base" value="เส้น" /> เส้น</label>
        </div>
        <div class="group">
          <div class="group-title">ราคา</div>
          <label><input type="radio" name="price" value="" checked /> ทั้งหมด</label>
          <label><input type="radio" name="price" value="lte30" /> ≤ 30</label>
          <label><input type="radio" name="price" value="31to50" /> 31–50</label>
          <label><input type="radio" name="price" value="gt50" /> > 50</label>
        </div>
        <div class="group">
          <div class="group-title">โปรโมชัน</div>
          <label><input type="checkbox" name="promo" value="has" /> มีโปร</label>
        </div>
      </div>
      <div class="panel-actions">
        <button id="resetBtn" class="ghost">ล้างทั้งหมด</button>
        <button id="applyBtn" class="primary">นำไปใช้</button>
      </div>
    </aside>

    <!-- PDP Bottom Sheet -->
    <section id="pdp" class="sheet hidden" aria-modal="true" role="dialog">
      <div class="sheet-inner">
        <div class="sheet-header">
          <button id="pdpClose" class="icon-btn">✖</button>
        </div>
        <div class="pdp-hero"><div class="hero-img">IMG</div></div>
        <div class="pdp-body">
          <h2 id="pdpTitle"></h2>
          <div class="price-line"><span id="pdpPrice"></span></div>

          <div id="pdpHeat" class="opt-group hidden">
            <div class="opt-title">เลือก</div>
            <div class="seg">
              <button class="seg-btn" data-heat="อุ่น">อุ่น</button>
              <button class="seg-btn" data-heat="ไม่อุ่น">ไม่อุ่น</button>
            </div>
          </div>

          <div id="pdpSauce" class="opt-group hidden">
            <div class="opt-title">ซอส</div>
            <div id="sauceList" class="seg"></div>
          </div>

          <div id="pdpAddons" class="opt-group hidden">
            <div class="opt-title">ตัวเลือกเพิ่ม</div>
            <div id="addonList" class="check-list"></div>
          </div>

          <div class="pdp-qty">
            <button id="qtyMinus" class="qty">−</button>
            <span id="qtyVal">1</span>
            <button id="qtyPlus" class="qty">+</button>
          </div>

          <button id="addToCart" class="cta wide">ใส่ตะกร้า</button>
        </div>

        <div class="pdp-reco">
          <h3>สินค้าที่คุณอาจจะชอบ</h3>
          <div id="recoList" class="grid small"></div>
        </div>
      </div>
      <div class="sheet-backdrop"></div>
    </section>

    <!-- Cart Drawer -->
    <aside id="cart" class="cart-drawer">
      <div class="cart-head">
        <strong>ตะกร้า</strong>
        <button id="cartClose" class="icon-btn">✖</button>
      </div>
      <div id="cartItems" class="cart-body"></div>
      <div class="cart-foot">
        <div id="cartTotal" class="total">รวม: ฿0</div>
        <button id="checkoutBtn" class="primary full">ดำเนินการชำระเงิน</button>
      </div>
    </aside>
  </section>

  <!-- ✅ เรียงลำดับสคริปต์ให้ถูก และโหลดครั้งเดียว -->
  <script src="scripts/config.js"></script>
  <script src="scripts/data-source.js"></script>
  <script src="scripts/app.js"></script>
</body>
</html>
